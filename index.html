<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Moonsan"/>
    <meta property="og:description" content="Shiru's Personal Blog"/>
    <link href="https://fonts.cdnfonts.com/css/sofia-pro" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@kfonts/nanum-square-round@0.2.0/index.min.css">
    <link href="blogstyle.css" rel="stylesheet">
    <title> Shiru's 文山</title>
</head>

<body style="display:flex; flex-direction:column; min-height: 100vh">

<div class="navbar">
<div class="navbar-content">
	<h3 style="font-size:15pt"> <a href="https://citruzsquared.github.io/moonsan/"> 
	Shiru's 文山
	</a></h3>
	<ul class="navbar" style="font-size:11pt; display:inline-block; align-self:flex-end;">
		<li class="navbar" ><a href="https://citruzsquared.github.io/">Homepage</a></li>
		<li class="navbar" ><a href="about.html">About Blog</a></li>
	</ul>
</div>
</div>
<div class="content-box">
<h1 style="font-size:35pt"> Posts </h1>

</div>
</div>
<div class="footer"> 
<div style="width:50%; margin:auto; padding-top:30px;">
<b style="font-size:15pt"> SHiRU </b> </br> Citruz²
</div>

<script> 
let postlist = ['eulers_formula', '60mm_FDC', 'first_post'];
	
async function getText(file) {
  let myObject = await fetch(file);
  let myText = await myObject.text();
  return myText;
}

async function generatePage() {	
	for (let i = 0; i < postlist.length; i++) {
		let post_link = `posts/${postlist[i]}.html`
		let post_html = await getText(post_link);
		
		let post_title_cut = post_html.substring(post_html.indexOf('<h1 class="title">'), post_html.length);
		let post_title = post_title_cut.substring(post_title_cut.indexOf('>') + 1, post_title_cut.indexOf('</h1>'));
		let post_date_cut = post_title_cut.substring(post_title_cut.indexOf('<p class="postdate">') + 1, post_title_cut.length);
		let post_date = post_date_cut.substring(post_date_cut.indexOf('>') + 1, post_date_cut.indexOf('</p>'));

		let content_box = document.getElementsByClassName("content-box")[0];
		content_box.innerHTML += `<div> <p class="date"> ${post_date} </p> <p class="title"> <a href=" ${post_link} "> ${post_title} </a> </p> </div>`;
	}
}

generatePage();
</script>
</body>
</html>
